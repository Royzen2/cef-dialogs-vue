(function(){"use strict";var i={4473:function(i,n,t){var o=t(9242),e=t(3396);function l(i,n,t,o,l,s){const a=(0,e.up)("dialogs");return(0,e.wg)(),(0,e.j4)(a,{openParams:l.openDialog},null,8,["openParams"])}var s=t(1461),a=t.n(s);const d=i=>((0,e.dD)("data-v-5874b882"),i=i(),(0,e.Cn)(),i),r={id:"input"},c={key:0,id:"input-created"},u={key:0,class:"window"},_=["innerHTML"],w=d((()=>(0,e._)("div",{class:"window__subtitle"},null,-1))),f={class:"window__content"},p=["innerHTML"],g={class:"window-input"},v={class:"window__buttons",style:{"margin-top":"25px"}},h={class:"window__buttons--content"},m=["innerHTML"],b=["innerHTML"],y={key:1,class:"window"},k=["innerHTML"],T=d((()=>(0,e._)("div",{class:"window__subtitle"},null,-1))),L={class:"window__content"},M=["innerHTML"],D={class:"window__buttons",style:{"margin-top":"25px"}},H={class:"window__buttons--content"},x=["innerHTML"],I=["innerHTML"],C={key:2,class:"window","data-v-3e7a472e":""},O=["innerHTML"],q=d((()=>(0,e._)("div",{class:"window__subtitle"},null,-1))),P={"data-v-3e7a472e":"",class:"window__content"},j={id:"list",class:"window-table"},B=["innerHTML"],E={class:"window__buttons",style:{"margin-top":"25px"}},W={class:"window__buttons--content"},G=["innerHTML"],R=["innerHTML"],S={key:3,class:"window"},A=["innerHTML"],U=d((()=>(0,e._)("div",{class:"window__subtitle"},null,-1))),V={class:"window__content"},Z=["innerHTML"],F={class:"window-input"},J={class:"window__buttons",style:{"margin-top":"25px"}},N={class:"window__buttons--content"},Q=["innerHTML"],Y=["innerHTML"];function z(i,n,t,l,s,a){return(0,e.wg)(),(0,e.iD)("div",r,[t.openParams?((0,e.wg)(),(0,e.iD)("div",c,[1==this.dialog_info.type?((0,e.wg)(),(0,e.iD)("div",u,[(0,e._)("div",{class:"window__title",innerHTML:s.dialog_info.title},null,8,_),w,(0,e._)("div",f,[(0,e._)("div",{class:"window-input__text",innerHTML:s.text},null,8,p),(0,e._)("div",g,[(0,e.wy)((0,e._)("input",{id:"input","onUpdate:modelValue":n[0]||(n[0]=i=>s.dialogs.input.value=i),placeholder:"Введите значение",type:"text"},null,512),[[o.nr,s.dialogs.input.value]])])]),(0,e._)("div",v,[(0,e._)("div",h,[(0,e._)("div",{class:"window-button",id:"Window0",onClick:n[1]||(n[1]=i=>a.okey()),innerHTML:s.dialog_info.buttons[0]},null,8,m),s.IsButtons?((0,e.wg)(),(0,e.iD)("div",{key:0,class:"window-button",id:"Window1",onClick:n[2]||(n[2]=i=>a.no()),innerHTML:s.dialog_info.buttons[1]},null,8,b)):(0,e.kq)("",!0)])])])):(0,e.kq)("",!0),0==this.dialog_info.type?((0,e.wg)(),(0,e.iD)("div",y,[(0,e._)("div",{class:"window__title",innerHTML:s.dialog_info.title},null,8,k),T,(0,e._)("div",L,[(0,e._)("div",{class:"window-input__text",innerHTML:s.text},null,8,M)]),(0,e._)("div",D,[(0,e._)("div",H,[(0,e._)("div",{class:"window-button",id:"Window0",onClick:n[3]||(n[3]=i=>a.okey()),innerHTML:s.dialog_info.buttons[0]},null,8,x),s.IsButtons?((0,e.wg)(),(0,e.iD)("div",{key:0,class:"window-button",id:"Window1",onClick:n[4]||(n[4]=i=>a.no()),innerHTML:s.dialog_info.buttons[1]},null,8,I)):(0,e.kq)("",!0)])])])):(0,e.kq)("",!0),2==this.dialog_info.type?((0,e.wg)(),(0,e.iD)("div",C,[(0,e._)("div",{class:"window__title-list",innerHTML:s.dialog_info.title},null,8,O),q,(0,e._)("div",P,[(0,e._)("div",j,[(0,e._)("div",{innerHTML:s.item_filter.join("")},null,8,B)])]),(0,e._)("div",E,[(0,e._)("div",W,[(0,e._)("div",{class:"window-button",id:"Window0",onClick:n[5]||(n[5]=i=>a.okey()),innerHTML:s.dialog_info.buttons[0]},null,8,G),s.IsButtons?((0,e.wg)(),(0,e.iD)("div",{key:0,class:"window-button",id:"Window1",onClick:n[6]||(n[6]=i=>a.no()),innerHTML:s.dialog_info.buttons[1]},null,8,R)):(0,e.kq)("",!0)])])])):(0,e.kq)("",!0),3==this.dialog_info.type?((0,e.wg)(),(0,e.iD)("div",S,[(0,e._)("div",{class:"window__title",innerHTML:s.dialog_info.title},null,8,A),U,(0,e._)("div",V,[(0,e._)("div",{class:"window-input__text",innerHTML:s.text},null,8,Z),(0,e._)("div",F,[(0,e.wy)((0,e._)("input",{id:"input","onUpdate:modelValue":n[7]||(n[7]=i=>s.dialogs.input.value=i),placeholder:"Введите значение",type:"password"},null,512),[[o.nr,s.dialogs.input.value]])])]),(0,e._)("div",J,[(0,e._)("div",N,[(0,e._)("div",{class:"window-button",id:"Window0",onClick:n[8]||(n[8]=i=>a.okey()),innerHTML:s.dialog_info.buttons[0]},null,8,Q),s.IsButtons?((0,e.wg)(),(0,e.iD)("div",{key:0,class:"window-button",id:"Window1",onClick:n[9]||(n[9]=i=>a.no()),innerHTML:s.dialog_info.buttons[1]},null,8,Y)):(0,e.kq)("",!0)])])])):(0,e.kq)("",!0)])):(0,e.kq)("",!0)])}var K={name:"dialogs",props:["openParams"],data(){return{dialogs:{input:{value:""}},dialog_info:{dialogID:-1,type:-1,title:"Тестовый диалог",text:"Тут текст тестовый",items:[],buttons:["Тест","Тест1"],isPrivate:!1,header:""},text:[],IsDevelopers:!0,open:!1,color:"<span style='#ffffff'>",TYPES:["text","input","list_normal","input_private","list_title","list_title"],item_filter:[],listmax:0,IsButtons:!1}},components:{},methods:{no(){app.sendGameEvent("OnCustomDialogResponse",this.dialog_info.dialogID,0,-1,this.dialogs.input.value),a().emit("closed",0),cef.set_focus(!1)},okey(){app.sendGameEvent("OnCustomDialogResponse",this.dialog_info.dialogID,1,-1,this.dialogs.input.value),a().emit("closed",1),cef.set_focus(!1)},setColor(i){for(let n=0;n<i.length;n++){let t=i[n];if(""!=t){while(null!=t.match(/{(?<color>......)}/)){let i=t.match(/{(?<color>......)}/);null!=i&&(this.color='<span style="color: #'+i[1]+'">',t=t.replace(i[0],this.color))}i[n]=this.color+t}}return i},selectItem(i){this.select=i}},created(){this.$nextTick((()=>{a().on("dialogs-info",((i,n,t)=>{console.log("da"),this.text=[],this.item_filter.length=0,this.item_filter=[];let o="",e="",l=0;var s=JSON.parse(i);if(2==t)var d={dialogID:n,type:t,title:s[0],items:s[1],buttons:[s[2],s[3]]};else d={dialogID:n,type:t,title:s[0],text:s[1],buttons:[s[2],s[3]]};this.dialog_info=d,0==s[3].length?this.IsButtons=!1:this.IsButtons=!0;while(-1!=s[1].search("{"))s[1]=s[1].replace(/{(?<color>......)}/g,'<span style="color: #$<color>">');while(-1!=s[0].search("{"))s[0]=s[0].replace(/{(?<color>......)}/g,'<span style="color: #$<color>">');while(-1!=s[1].search("<n>")||-1!=s[1].search("<t>"))s[1]=s[1].replace("<n>","<br>").replace("<t>","                "),this.listmax++,l++;this.dialog_info.type=t,this.dialog_info.buttons[0]=s[2],this.dialog_info.buttons[1]=s[3],this.text=s[1],this.dialog_info.title=s[0],o=this.text,e=o.split("<br>");for(let a=0;a<this.listmax;a++)this.item_filter[a]='<div id="item'+a+'" class="window-table__item" style="grid-template-columns: repeat(1, 1fr);" ><div class="window-table__col">'+e[a]+"</div></div>";setTimeout((()=>{for(let i=0;i<l;i++)document.getElementById("item"+i).onclick=function(){app.sendGameEvent("OnCustomDialogResponse",n,1,i,""),a().emit("closed",0),cef.set_focus(!1)}}),10),setTimeout((()=>{$("#input-created").draggable(),$("#input-created").fadeIn()}),1),this.listmax=0}))}))},mounted(){}},X=t(89);const ii=(0,X.Z)(K,[["render",z],["__scopeId","data-v-5874b882"]]);var ni=ii,ti={name:"App",data(){return{openDialog:!1,dialog_info:{dialogID:-1,items:[]},dialogIdx:-1,dialogsQueue:[]}},methods:{addDialog(i,n,t=[]){cef.set_focus(!0),this.dialogIdx=i,1==this.openDialog&&this.closeLastDialog(),a().emit("dialogs-info",t,i,n),delete this.e,this.openDialog=!0},closeLastDialog(){console.log("delete dialogs[id] :"+this.dialogIdx),this.dialogIdx=-1,this.openDialog=!1,cef.set_focus(!1)},sendGameEvent(i,...n){console.log("Event: "+i),console.log("Arg: "+n),cef.emit(i,...n)}},created(){a().on("closed",(i=>{this.closeLastDialog(),cef.set_focus(!1)})),cef.on("ShowPlayerDialog",((i,n,t)=>{this.addDialog(i,n,t),cef.set_focus(!0)}))},components:{dialogs:ni}};const oi=(0,X.Z)(ti,[["render",l]]);var ei=oi;const li=(0,o.ri)(ei).mount("#app");window.app=li}},n={};function t(o){var e=n[o];if(void 0!==e)return e.exports;var l=n[o]={exports:{}};return i[o](l,l.exports,t),l.exports}t.m=i,function(){var i=[];t.O=function(n,o,e,l){if(!o){var s=1/0;for(c=0;c<i.length;c++){o=i[c][0],e=i[c][1],l=i[c][2];for(var a=!0,d=0;d<o.length;d++)(!1&l||s>=l)&&Object.keys(t.O).every((function(i){return t.O[i](o[d])}))?o.splice(d--,1):(a=!1,l<s&&(s=l));if(a){i.splice(c--,1);var r=e();void 0!==r&&(n=r)}}return n}l=l||0;for(var c=i.length;c>0&&i[c-1][2]>l;c--)i[c]=i[c-1];i[c]=[o,e,l]}}(),function(){t.n=function(i){var n=i&&i.__esModule?function(){return i["default"]}:function(){return i};return t.d(n,{a:n}),n}}(),function(){t.d=function(i,n){for(var o in n)t.o(n,o)&&!t.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(i){if("object"===typeof window)return window}}()}(),function(){t.o=function(i,n){return Object.prototype.hasOwnProperty.call(i,n)}}(),function(){var i={143:0};t.O.j=function(n){return 0===i[n]};var n=function(n,o){var e,l,s=o[0],a=o[1],d=o[2],r=0;if(s.some((function(n){return 0!==i[n]}))){for(e in a)t.o(a,e)&&(t.m[e]=a[e]);if(d)var c=d(t)}for(n&&n(o);r<s.length;r++)l=s[r],t.o(i,l)&&i[l]&&i[l][0](),i[l]=0;return t.O(c)},o=self["webpackChunkcef_dialogs"]=self["webpackChunkcef_dialogs"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(4473)}));o=t.O(o)})();
//# sourceMappingURL=app.5d2a63ff.js.map